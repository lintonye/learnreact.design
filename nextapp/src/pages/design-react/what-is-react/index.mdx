import imgDomoBorn from './domo-born.png'
import imgDomoCssArtist from './domo-css-artist.png'
import imgTalkToDomo from './talk-to-domo.png'
import imgMultipleDevsTalk from './multiple-devs-talk.png'
import imgIntroReact from './intro-react.png'
import imgReactAgent from './react-agent.png'
import imgBreakIntoComponents from './break-into-components.png'
import imgComposableIndependant from './composable-independant.png'
import imgStepByStep from './imperative-step-by-step.png'
import imgThinker from './declarative-thinker.png'
import imgFlipbook from './flipbook.png'
import imgOptimizeSketches from './optimize-sketches.png'
import imgPlaceholders from './placeholders-in-sketch.png'
// import img from './.png'

import { DomoAsciiArt } from '@/components/DomoAsciiArt'

export const meta = {
  title: 'What is React',
  subtitle: 'An interactive guide for absolute beginners',
  date: '2021-01-05',
}

<!--excerpt-->

What is DOM? Why is React so popular? What does like feel like to write a React app? Why do we need React?

This is an interactive guide for absolute beginners. As long as you have some basic knowledge of HTML and JavaScript, you'll be able to understand the core ideas of React, why it's so popular, what problem does it solve.

<!--/excerpt-->

<!-- This is a guide for beginners, absolute beginners I mean. So you don't need to know JS to read this post. BUT, the concepts introduced in this article will be useful for you after you learn JavaScript. Understand why needs React in the first place.

React is an important idea. started 2013, unlike many other trendy JS frameworks, the core ideas in React haven't changed since the day one. Makes easier than ever to build UI. Makes design tools possible. Heavily influenced design tools. For the first time in history, the gap between design and development starts to diminish! Look at the tools such as Framer, Modulz.

Figma: design with code in mind - autolayout etc.

React is getting ever popular. Not just developers, For UX designers, many company prefers React experience.

What's this React thing?

Let's get started with something you might have heard many times, DOM. -->

TODO: Introduction

## How does the Web work?

### What is DOM?

When we enter the address of our favorite website into a browser, our computer starts a conversation with another computer far away, commonly referred to as _server_. Typically our computer makes a request for some information and the server responds:

> **Your computer:** Yo, what's good about this random site learnreact.design?
>
> **The server:** Hang on, let me grab something for you. Beep. Boop.

The server's response usually includes three parts: HTML, CSS and JavaScript.

HTML defines what building blocks are there in a web page and how they relate to each other. How many buttons and images are there? Are they contained in the same box?

Using this information, the browser creates something called... DOM!

<img src={imgDomoBorn} alt="DOM is born" />

Wait a second, DOM is a ... tree? Yup, a tree! Oddly enough, a lot of things in our computer look like a tree. Let's give our tree friend a nickname... hmmm what about Domo?

Domo works as a model at the prestigious art studio "Web Browser". His job is to pose in front of the artist who paints a portrait (or perhaps millions of portraits).

<img src={imgDomoCssArtist} alt="Domo at the art studio Web Browser" />

In real life, DOM stands for Document Object Model. It's indeed a model -- a model of the document (aka the web page). It strikes a pose. The browser paints a portrait. The portraits are what we see on a web page: the textboxes, the paragraphs, the images and so on. A developer's job is like that of a director who tells Domo what to wear and what pose to strike. This determines what those portraits look like in the end.

To check out what DOM looks like, you can inspect a web page like so:

<!-- ![inspect](TODO) -->

[TODO clearly marks out the DOM and tree]

Hint: Now right click on this very page, and choose "Inspect".

<DomoAsciiArt />

### DOM API

We often want a web page to be dynamic and interactive -- that means its content changes from time to time: adding or removing text here and there, showing a modal, or updating a chart based on some new data coming from the server.

Remember, in order to change what's on a web page, we need to update the DOM. The artist isn't able to paint new portraits until Domo changes to a new pose.

How would we get Domo to change to a new pose?

We just talk to him. He listens. Interestingly, Domo's ears happen to have a name: _DOM API_.

<img src={imgTalkToDomo} alt="A developer talks to Domo" />

To manipulate DOM, a developer would write code in JavaScript which talks to DOM API, and in turn, updates the content of the web page.

### The increasing complexity of web development

_Directly_ talking to Domo has been the standard approach of web development for years, especially when the web content was mostly static. A developer would sprinkle some interactivity on top of the static pages by writing small amount of JavaScript code.

However, with the emergence of SPAs (Single Page Application) such as Gmail and Google Maps, people started to expect a lot more. Instead of mostly static web _pages_, they want web _apps_ that are interactive, fast and responsive.

The code required to build web apps becomes increasingly large and complex. It often requires the collaboration of many team members.

The traditional approach stopped working. It becomes chaotic and inefficient to always directly talk to Domo.

<!-- 1. Web apps are getting large and complex. Development of a web app often requires team collaboration
2. The DOM itself has some issues. It's slow to update the entire DOM for a large page. The behaviors of different browsers have subtle differences.
3. It's also not efficient to directly talk to Domo. -->

<img src={imgMultipleDevsTalk} alt="Multiple devs talk to Domo" />

## Introducing React

Let me introduce you to the superhero, React:

<img src={imgIntroReact} alt="Introduction to React" />

With React, developers no longer directly talk to Domo. React acts as an agent between a developer and Domo. He smoothes out the communication and streamlines the process of portrait creation.

<img src={imgReactAgent} alt="React as an agent" />

React is made up of JavaScript code. It's built in a way that we no longer need to directly work with DOM API in most cases. Instead, we write simpler code while React handles the conversation with DOM under the hood.

React has a few tricks to tackle the ever-growing complexity of web development. Here are his three main tricks:

- Components
- Declarative UI
- Reactiveness

### Components

Components are the flagship feature of React. The core idea is based on a simple strategy: divide-and-conquer. If it's difficult to grok a problem all at once, we break it into smaller problems, solve them one at a time and then combine the results.

<img
  src={imgBreakIntoComponents}
  alt="React breaks a problem into components"
/>

Building an app in React is almost all about working with components: breaking the app into components, finding the best components for the job, fitting one with another, creating new components from existing ones etc.

Components in React have two important properties:

1. Components are _composable_. They are made for reuse. We can make a new component with other components.
2. Components are _independent_ of each other. If we change the code in one place, other parts don't break.

If this sounds abstract to you, don't worry! I'll show you some examples and explain these properties in details soon.

<img
  src={imgComposableIndependant}
  alt="Components are composable and independent"
/>

### Declarative UI

When directly working with DOM, we'd have to specify what element to change at the right time, in the right order. This is equivalent to describing to Domo how to position his head, arms and legs step by step, for each and every portrait.

<img src={imgStepByStep} alt="Sequential commands about how to pose" />
TODO the confusion is on dev

Heck, this sounds tedious and error-prone! Why can't we just tell Domo _what_ we want instead of _how_ to pose? In fact, this is exactly how to build a UI in React. A developer draws a quick sketch of what he or she wants. React explains it to Domo how to pose.

<img src={imgThinker} alt="Dev draws sketch, React explains to Domo" />

Because the apps we build are dynamic, we often want Domo to change poses fairly quickly. We draw many sketches and hand them to React in a big pile. React stacks these sketches together and flips them like a flipbook. A dynamic UI comes live!

<img src={imgFlipbook} alt="Flipbook" />

In tech terms, if the code defines _how_ we want it to be done, it's **imperative**; if it defines _what_ we want, it's **declarative**. The traditional way of directly working with DOM API is imperative, and the React way is declarative.

Imperative programming emerged from the day when the computers were primitive. People had to instruct them in detail: where to store the nubmers, how to multiply etc. But this eventally got unmanageable, people wrote smart software that convert definition of problems into detailed instructions. Declarative programming was born.

Besides making the life of a developer easier, declarative programming in React also offers opportunities for performance optimization.

When React has all the sketches beforehand, he can sort through them, remove any duplication and make sure that Domo and the artist do as little work as possible.

<img
  src={imgOptimizeSketches}
  alt="React holds two sketch trees in each hand, similar poses, and tells Domo to only lift up his leg (or whatever minor adjustment)"
/>

These sketches are called _Virtual DOM_. Virtual DOM is much faster to manipulate than DOM. Developers work with Virtual DOM most of the time instead of directly managing DOM. React handles the dirty work of managing the slow DOM.

### Reactiveness

Even cooler, imagine if we can leave placeholders in our sketches to represent different variations of a same pose. This way, when somebody asks for portraits of Domo wearing a different hat, we don't have to talk to React again. We can just sit back and let him change it himself.

<img src={imgPlaceholders} alt="Domo with hat" />

This trick is how React got its name. The UI built with React is **reactive**. As developers, we just need to write down **what** we want and React figures out **how** to do it. When data change, our UI changes accordingly. We don't need to worry about updating the DOM, React does it for us automatically. The idea of reactive UI greatly simplifies UI development.

TODO: ThinkerHat example

```jsx
const ThinkerWithHat = ({ hat }) => (
  <div>
    <Hat type={hat} />
    <Thinker />
  </div>
)
```

Notice that you just need to define what you want (a thinker with a hat), and "wire up" the data ("`type = {hat}`"). When the data change (user selects a hat), the UI updates automatically.

## Write your first React component

TODO: Hands-on examples

STOP READING FROM HERE

Today, more and more programming languages and frameworks allow us to code declaratively instead of imperatively. CSS is another example of declarative programming -- we only describe the style what we want, and the browser figures out how to style the web page for us.

```css
body {
  font-size: 16px;
  padding: 8px;
  background: #fefefe;
}
```

- example of UI
- text representation
- custom tags

```jsx
<div>
  <Toolbar />
  <Header />
  <Content />
  <SideBar />
  <Footer />
</div>
```

But first, let's look at what a React component looks like in real life.

### Components in design tools

In today's design tools, such as Framer or Figma,

If you are familiar with Sketch, components are a lot like [symbols](https://www.sketchapp.com/learn/documentation/symbols/).

### Write your first React component

Back to our studio "Web Browser", you describe your requirement for portraits as components, React translates it into what Domo understands. This saves you a lot time because you don't have to repeat common parts in your instructions.

### Components are composable

The word "composable" means that we can make a component with other components.

This is similar to how our real world works (with some important differences as I'll show you soon). Our cars, houses and even our bodies are all made up of identifiable components that are individual, functional units. These components are made up of smaller components which consist of even smaller components, all the way down to atoms.

<!-- ![sketch made up of components](./13-components.png) -->

### Components are independent

[Framer component video]

Figma has similar feature, but Framer is more complete

- composable
- independent components. Change code in one place, other parts don't break. Only interact with other components at a very limited, well-defined places.

```jsx
// Domo
<div>
  <img src="domo.png" />
</div>
```

```jsx
<Domo />
```

```jsx
// DomoCouple
<div>
  <Domo />
  <Domo />
</div>
```

```jsx
// Domo
<div>
  <img src="domo.png" />
  <img src="hat.png" />
</div>
```

```jsx
// Hat
<div>
  <img src="hat.png" />
</div>
```

```jsx
// ThinkerWithHat
<div>
  <Hat>
  <Thinker />
</div>
```

```jsx
<div>
  <ThinkerWithHat />
  <ThinkerWithHat />
  <ThinkerWithHat />
</div>
```

<!-- Now of course this post only covers some concepts at a very high level, but it's really important that you have this mental model in mind. If you want to actually learn React and build stuff, take a look at this course.

React, ReactJS, React.js, React Native... How many times have you heard about these things lately? Are you confused by what they are really for?

If you are a designer in a team that uses (or is considering using) React, or if you are simply curious about this "React" thing, these posts are for you.

In plain English and doodlesðŸŒ´ðŸŽ„, I'll explain the terms in React family and dive into what makes React so special. No coding knowledge is required at this point, but we'll roll up the sleeves and get our hands dirty with code soon enough. I want you to get familiar with a few concepts first so you don't feel like you're in the deep end when we get there. You can always come back here if you need to review anything in the future.
 -->
